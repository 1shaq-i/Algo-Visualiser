:root{ --bg:#0b1020; --panel:#121937; --muted:#1a2452; --text:#e8ecff; --accent:#7aa2ff; --accent-2:#4ce0b3; --warn:#ffb454; }
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:radial-gradient(1200px 800px at 10% -10%,#1b2550 0%,#0b1020 55%),linear-gradient(160deg,#0b1020,#0a0f1e 60%);color:var(--text);font:15px/1.45 Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

h1{font-size:20px;margin:0}
.app{display:grid;grid-template-columns:320px 1fr;gap:14px;min-height:100%}
.panel{background:linear-gradient(180deg,var(--panel),#0f1630);border:1px solid #1c2550;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.left{padding:16px 16px 12px;display:flex;flex-direction:column;gap:12px;position:sticky;top:12px;height:calc(100dvh - 24px);margin:12px}
.right{margin:12px;padding:12px;display:flex;flex-direction:column;gap:12px}
.toolbar{display:grid;grid-template-columns:1fr auto;align-items:center;gap:10px}
.select,.input,.btn{height:36px;border-radius:10px;border:1px solid #263065;background:#0d1430;color:var(--text)}
.select,.input{padding:0 10px}
.btn{padding:0 12px;background:linear-gradient(180deg,#1b2a70,#17245a);cursor:pointer;letter-spacing:.1px}
.btn:hover{filter:brightness(1.07)}
.btn.secondary{background:#10183a}
.btn.ghost{background:transparent;border-color:#223}
.btn.warn{background:linear-gradient(180deg,#6b3b00,#512a00);border-color:#915000;color:#ffd8a1}
.row{display:flex;gap:8px;align-items:center}
.row.wrap{flex-wrap:wrap}
.group{display:grid;gap:6px}
label{opacity:.8;font-size:12px}

.viz-wrapper{position:relative;min-height:520px;max-height:70dvh;background:linear-gradient(180deg,#0b122c,#0a1127);border:1px solid #1b2550;border-radius:18px;overflow:auto;cursor:grab}
.viz-wrapper.panning{cursor:grabbing}
.viz{position:relative;min-height:520px;min-width:100%}
.badge{display:inline-flex;gap:6px;align-items:center;background:#0f1a44;border:1px solid #28346b;padding:6px 10px;border-radius:999px;font-size:12px}
.legend{display:flex;gap:8px;flex-wrap:wrap}

.stack,.queue,.list{display:flex;gap:10px;padding:18px}
.stack{flex-direction:column-reverse;align-items:flex-start}
.queue,.list{flex-direction:row;align-items:center}

.node{--c:#778cff;--bg:#0f173a;min-width:48px;min-height:48px;padding:10px 12px;border-radius:12px;border:1px solid color-mix(in oklab,var(--c),#000 50%);background:linear-gradient(180deg,var(--bg),#0c1331);display:flex;align-items:center;justify-content:center;font-weight:600;position:relative;box-shadow:inset 0 0 0 1px rgba(255,255,255,.03),0 6px 18px rgba(0,0,0,.35);transition:transform .18s ease, box-shadow .18s ease, background .2s ease}
.node.visited{outline:2px solid var(--accent);box-shadow:0 0 0 4px rgba(122,162,255,.15),0 8px 26px rgba(0,0,0,.45)}
.node.target{outline:2px solid var(--accent-2);box-shadow:0 0 0 5px rgba(76,224,179,.18),0 10px 28px rgba(0,0,0,.5)}
.pointer{width:28px;height:4px;background:linear-gradient(90deg,#2b386e,transparent);border-radius:999px;position:relative}
.pointer::after{content:"";position:absolute;right:-4px;top:-4px;border:6px solid transparent;border-left-color:#2b386e}

.tree-canvas{position:relative;padding:40px 20px 80px;min-height:520px}
.edge{position:absolute;height:2px;background:linear-gradient(90deg,#2b376c,#1d2756);transform-origin:left center;opacity:.8}
.tree-node{position:absolute}

.muted{opacity:.75}
.pill{padding:6px 10px;border-radius:999px;background:#0d1740;border:1px solid #25306b}
.footer{display:flex;justify-content:space-between;align-items:center;padding:8px 12px}
.small{font-size:12px}
.grow{flex:1}